<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœç´¢è°ƒè¯•å·¥å…·</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 { color: #333; }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            background: #f9f9f9;
            border-left: 4px solid #2196f3;
        }
        button {
            padding: 10px 20px;
            margin: 5px;
            background: #2196f3;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover { background: #1976d2; }
        .result {
            margin: 10px 0;
            padding: 15px;
            background: #e8f5e9;
            border-radius: 4px;
        }
        .error {
            background: #ffebee;
            color: #c62828;
        }
        pre {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
        }
        .article-item {
            padding: 10px;
            margin: 5px 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” æœç´¢åŠŸèƒ½è°ƒè¯•å·¥å…·</h1>
        
        <div class="test-section">
            <h2>æµ‹è¯•1: åŠ è½½æ–‡ç« æ•°æ®</h2>
            <button onclick="testArticlesData()">æ£€æŸ¥æ–‡ç« æ•°æ®</button>
            <div id="articlesDataResult"></div>
        </div>

        <div class="test-section">
            <h2>æµ‹è¯•2: æœç´¢åŠŸèƒ½æµ‹è¯•</h2>
            <input type="text" id="searchInput" placeholder="è¾“å…¥æœç´¢å…³é”®è¯" style="padding: 10px; width: 300px; margin-right: 10px;">
            <button onclick="testSearch()">æ‰§è¡Œæœç´¢</button>
            <div id="searchResult"></div>
        </div>

        <div class="test-section">
            <h2>æµ‹è¯•3: é¢„å®šä¹‰æœç´¢æµ‹è¯•</h2>
            <button onclick="testSearchKeyword('Specialty Coffee at Home')">æœç´¢: Specialty Coffee at Home</button>
            <button onclick="testSearchKeyword('coffee')">æœç´¢: coffee</button>
            <button onclick="testSearchKeyword('fashion')">æœç´¢: fashion</button>
            <button onclick="testSearchKeyword('beauty')">æœç´¢: beauty</button>
            <div id="predefinedResult"></div>
        </div>

        <div class="test-section">
            <h2>æµ‹è¯•4: æŸ¥çœ‹æ‰€æœ‰æ–‡ç« </h2>
            <button onclick="showAllArticles()">æ˜¾ç¤ºæ‰€æœ‰æ–‡ç« </button>
            <div id="allArticlesResult"></div>
        </div>
    </div>

    <script src="js/articles-data.js"></script>
    <script>
        // æœç´¢å‡½æ•°ï¼ˆä»search.jså¤åˆ¶ï¼‰
        function searchArticles(query) {
            const searchQuery = query.toLowerCase();
            
            return articlesData.filter(article => {
                const searchableText = `
                    ${article.title} 
                    ${article.excerpt} 
                    ${article.categoryName}
                    ${article.author}
                `.toLowerCase();
                
                return searchableText.includes(searchQuery);
            });
        }

        // æµ‹è¯•æ–‡ç« æ•°æ®
        function testArticlesData() {
            const resultDiv = document.getElementById('articlesDataResult');
            
            if (typeof articlesData === 'undefined') {
                resultDiv.innerHTML = '<div class="result error">âŒ é”™è¯¯ï¼šarticlesData æœªå®šä¹‰ï¼</div>';
                return;
            }

            resultDiv.innerHTML = `
                <div class="result">
                    âœ… æˆåŠŸåŠ è½½ï¼
                    <br>æ–‡ç« æ€»æ•°: <strong>${articlesData.length}</strong>
                    <br>æ–‡ç« åˆ—è¡¨:
                    <ul>
                        ${articlesData.map((article, index) => `
                            <li>ID ${article.id}: ${article.title} (${article.categoryName})</li>
                        `).join('')}
                    </ul>
                </div>
            `;
        }

        // æµ‹è¯•æœç´¢
        function testSearch() {
            const query = document.getElementById('searchInput').value;
            const resultDiv = document.getElementById('searchResult');

            if (!query) {
                resultDiv.innerHTML = '<div class="result error">è¯·è¾“å…¥æœç´¢å…³é”®è¯</div>';
                return;
            }

            const results = searchArticles(query);
            
            resultDiv.innerHTML = `
                <div class="result">
                    <strong>æœç´¢å…³é”®è¯:</strong> "${query}"
                    <br><strong>æ‰¾åˆ°ç»“æœ:</strong> ${results.length} ç¯‡
                    <br><br>
                    ${results.length > 0 ? `
                        <strong>åŒ¹é…çš„æ–‡ç« :</strong>
                        ${results.map(article => `
                            <div class="article-item">
                                <strong>ID ${article.id}:</strong> ${article.title}
                                <br><small>åˆ†ç±»: ${article.categoryName} | ä½œè€…: ${article.author}</small>
                                <br><small>æ‘˜è¦: ${article.excerpt.substring(0, 100)}...</small>
                            </div>
                        `).join('')}
                    ` : '<p style="color: #c62828;">æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æ–‡ç« </p>'}
                </div>
            `;
        }

        // æµ‹è¯•é¢„å®šä¹‰å…³é”®è¯
        function testSearchKeyword(keyword) {
            const resultDiv = document.getElementById('predefinedResult');
            const results = searchArticles(keyword);
            
            console.log('æœç´¢:', keyword);
            console.log('ç»“æœ:', results);
            
            resultDiv.innerHTML = `
                <div class="result">
                    <strong>æœç´¢å…³é”®è¯:</strong> "${keyword}"
                    <br><strong>æ‰¾åˆ°ç»“æœ:</strong> ${results.length} ç¯‡
                    <br><br>
                    ${results.length > 0 ? `
                        ${results.map(article => `
                            <div class="article-item">
                                <strong>âœ… ID ${article.id}:</strong> ${article.title}
                                <br><small>ğŸ“ ${article.categoryName} | ğŸ‘¤ ${article.author} | ğŸ“… ${article.date}</small>
                                <br><small>ğŸ“ ${article.excerpt.substring(0, 150)}...</small>
                            </div>
                        `).join('')}
                    ` : `
                        <p style="color: #c62828; padding: 10px; background: #ffebee; border-radius: 4px;">
                            âŒ æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æ–‡ç« 
                        </p>
                    `}
                </div>
            `;
        }

        // æ˜¾ç¤ºæ‰€æœ‰æ–‡ç« 
        function showAllArticles() {
            const resultDiv = document.getElementById('allArticlesResult');
            
            resultDiv.innerHTML = `
                <div class="result">
                    <strong>æ‰€æœ‰æ–‡ç« åˆ—è¡¨ï¼ˆå…± ${articlesData.length} ç¯‡ï¼‰:</strong>
                    <br><br>
                    ${articlesData.map(article => `
                        <div class="article-item">
                            <strong>ID ${article.id}:</strong> ${article.title}
                            <br><small>ğŸ“ ${article.categoryName} | ğŸ‘¤ ${article.author} | ğŸ“… ${article.date}</small>
                            <br><small>ğŸ·ï¸ Category: ${article.category}</small>
                            <br><small>ğŸ“ ${article.excerpt}</small>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ£€æŸ¥
        window.addEventListener('load', () => {
            console.log('è°ƒè¯•é¡µé¢å·²åŠ è½½');
            console.log('articlesData:', articlesData);
        });
    </script>
</body>
</html>

